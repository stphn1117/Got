CREATE DATABASE GOT;

CREATE TABLE IF NOT EXISTS REPOSITORY(
ID INT NOT NULL PRIMARY  KEY,
REPNAME VARCHAR(128) NOT NULL
);

CREATE TABLE IF NOT EXISTS GOTIGNORE(
REPID INT NOT NULL,
FOREIGN KEY (REPID) REFERENCES REPOSITORY(ID),
FILESTRING VARCHAR(128) NOT NULL
);

CREATE TABLE IF NOT EXISTS COMMITS(
ID INT NOT NULL PRIMARY KEY,
REPID INT NOT NULL,
FOREIGN KEY (REPID) REFERENCES REPOSITORY(ID),
AUTHOR VARCHAR(128) NOT NULL,
MESSAGE VARCHAR(255),
HOUR TIME);

CREATE TABLE IF NOT EXISTS HUFFMANFILE(
ID INT NOT NULL PRIMARY KEY, 
COMMITID INT NOT NULL,
FOREIGN KEY (COMMITID) REFERENCES COMMITS(ID),
HUFFMANCODE MEDIUMTEXT,
HUFFMANTREE TEXT(655353));

-- Tabla de  cambios 
CREATE TABLE IF NOT EXISTS DIFF( 
ID INT NOT  NULL PRIMARY KEY,
COMMITID INT NOT NULL,
FOREIGN KEY (COMMITID) REFERENCES COMMITS(ID),
FILEID INT NOT NULL, 
FOREIGN KEY (FILEID) REFERENCES HUFFMANFILE(ID),
DIFFOUTPUT TEXT(65535) NOT NULL);
